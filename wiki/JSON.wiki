#summary JSON serialize and deserialize
= Introduction =

= Pojo serialization/deserialization =

Here's a sample pojo:

{{{

public class Person
{
    
    private String firstName, lastName, email, username, password;
    private int age;
    
    public String getFirstName()
    {
        return firstName;
    }
    public void setFirstName(String firstName)
    {
        this.firstName = firstName;
    }
    public String getLastName()
    {
        return lastName;
    }
    public void setLastName(String lastName)
    {
        this.lastName = lastName;
    }
    public String getEmail()
    {
        return email;
    }
    public void setEmail(String email)
    {
        this.email = email;
    }
    public String getUsername()
    {
        return username;
    }
    public void setUsername(String username)
    {
        this.username = username;
    }
    public String getPassword()
    {
        return password;
    }
    public void setPassword(String password)
    {
        this.password = password;
    }
    public int getAge()
    {
        return age;
    }
    public void setAge(int age)
    {
        this.age = age;
    }
    
    

}

}}}

Let's subclass Person with Employee

{{{

public class Employee extends Person
{
    
    private List<Task> tasks;

    public List<Task> getTasks()
    {
        return tasks;
    }

    public void setTasks(List<Task> tasks)
    {
        this.tasks = tasks;
    }

}

}}}

Here's a sample configuration: "employee.json"

{{{

{
  "employee":
  {
    "class": "com.dyuproject.json.test.Employee",
    "firstName": "John",
    "lastName": "Doe",
    "email": "john_doe1@email.com",
    "age": 21,
    "username": "john_doe1",
    "password": "some_password1",
    "tasks":
    [
      {
        "class": "com.dyuproject.json.test.Task",
        "name": "Some task 1",
        "status": "10"
      },
      {
        "class": "com.dyuproject.json.test.Task",
        "name": "Some task 1",
        "status": "15"
      },
      {
        "class": "com.dyuproject.json.test.Task",
        "name": "Some task 1",
        "status": "20"
      }
    ]
  }
}

}}}


Let's parse that shall we
{{{
    public void testParse() throws Exception
    {
        String resource = "src/test/resources/com/dyuproject/json/test/employee.json";
        StandardJSON json = new StandardJSON();
        File file = new File(resource);
        BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));
        Map<String,Object> map = (Map<String,Object>)json.parse(new ReaderSource(reader));
        Employee e = (Employee)map.get("employee");
        assertTrue(e!=null);
        assertTrue("John".equals(e.getFirstName()));
        List<Task> tasks = e.getTasks();
        assertTrue(tasks!=null && tasks.size()==3);
        assertTrue("10".equals(tasks.get(0).getStatus()));
        assertTrue("15".equals(tasks.get(1).getStatus()));
        assertTrue("20".equals(tasks.get(2).getStatus()));
    }

}}}


